tail(vmat)
vfit = VAR(vmat)
summary(vfit)
irf(vfit)
plot(irf(vfit))
summary(vfit)
vfit
vfit = VAR(vmat, p=2)
summary(vfit)
curve(x)
curve(x)
curve(dnorm(x))
curve(dnorm(k, mean = 0, sd=1))
call(x)
N <- 40
x1 <- 10
x2 <- 20
b1 <- 100
b2 <- 10
mu <- 0
sig2e <- 2500
sde <- sqrt(sig2e)
yhat1 <- b1+b2*x1
yhat2 <- b1+b2*x2
curve(dnorm(x, mean=yhat1, sd=sde), 0, 500, col="blue")
curve(dnorm(k, mean=yhat1, sd=sde), 0, 500, col="blue")
rm(x)
N <- 40
x1 <- 10
x2 <- 20
b1 <- 100
b2 <- 10
mu <- 0
sig2e <- 2500
sde <- sqrt(sig2e)
yhat1 <- b1+b2*x1
yhat2 <- b1+b2*x2
curve(dnorm(x, mean=yhat1, sd=sde), 0, 500, col="blue")
curve((k))
curve((x))
curve((x^2))
curve((x^3))
curve((x^3), xlim = c(-1,1))
curve((x), xlim = c(-1,1))
plot(y)
curve((x), xlim = c(-1,1))
plot(rnorm(30), col='lightblue')
curve((x), xlim = c(-1,1), add=T)
curve((x), xlim = c(-1,1), add=T)
curve((x), xlim = c(-1,1))
plot(rnorm(30), col='lightblue')
plot(rnorm(30,0,1), col='lightblue')
plot(rnorm(30,0,1), col='lightblue')
curve((x), add=T)
plot(rnorm(30,0,1), col='lightblue')
curve((x^2), add=T)
curve((x+2), add=T)
curve((x+2X), add=T)
curve((x+2x), add=T)
curve((x+2*x), add=T)
curve((x+2*x), add=T)
plot(rnorm(30,0,1), col='lightblue')
curve((x+2*x), add=T)
curve((2*x+2*x), add=T)
curve((0.8*x+2*x), add=T)
curve((0.01x), add=T)
curve((0.01*x), add=T)
curve((0.1*x), add=T)
plot(abs(rnorm(30,0,1)), col='lightblue')
curve((0.1*x), add=T)
plot(abs(rnorm(30,0,1)), col='gray')
curve((0.1*x), add=T)
plot(abs(rnorm(30,0,1)), col='gray', lwd=19)
curve((0.1*x), add=T)
plot(abs(rnorm(30,0,1)), col='gray', lwd=19, size=3)
plot(abs(rnorm(30,0,1)), col='gray', lwd=19)
curve((0.1*x), add=T)
plot(abs(rnorm(30,0,1)), col='gray', lwd=19)
curve((0.1*x), add=T, col='red')
curve(dnorm(x))
curve(dnorm(x), xlim=c(-1,1))
curve(dnorm(x), xlim=c(-3,3))
curve(dnorm(x), xlim=c(-4,4))
curve(dnorm(x), xlim=c(-6,6))
curve(dnorm(x), xlim=c(-8,8))
write.csv(ret, 'ret')
write.table(ret, 'ret')
write.xlsx(ret, 'ret')
library(xlsx)
write.xlsx(ret, 'ret')
write.xlsx(ret, 'c:/ret.xlsx')
write.xlsx(ret,"C:/Users/user/Documents/ret.xlsx")
spec2 = ugarchspec(variance.model=list(model="sGARCH",
garchOrder=c(1,1)),
mean.model=list(armaOrder=c(0,0), include.mean=TRUE),
distribution.model="norm")
garch3 = ugarchfit(spec = spec2, data= ret)
garch3
spec1 = ugarchspec(variance.model=list(model="fGARCH",
garchOrder=c(1,1), submodel='TGARCH'),
mean.model=list(armaOrder=c(0,0), include.mean=TRUE, archm=T),
distribution.model="norm")
garch2 = ugarchfit(spec = spec1, data= ret)
garch2
sd(ret)
library(sn)
curve(dsn(x))
curve(dsn(x), ylim=c(-8,8))
curve(dsn(x), ylim=c(0,8))
curve(dsn(x, xi = 2), ylim=c(0,8))
curve(dsn(x, xi = 2, omega = 0.2, alpha = 0.22), ylim=c(0,8))
curve(dsn(x, xi = 2, omega = 0.2, alpha = 0.22))
curve(dsn(x, xi = 22, omega = 0.2, alpha = 0.22))
curve(dsn(x, omega = 0.2, alpha = 0.22))
curve(dsn(x, omega = 3, alpha = 0.22))
curve(dsn(x, omega = 8, alpha = 0.22))
curve(dsn(x, omega = 8, alpha = 0.22), , ylim=c(0,8))
curve(dsn(x, omega = 8, alpha = 0.22), , ylim=c(-8,8))
curve(dsn(x, omega = 8, alpha = 0.22), , ylim=c(0,8))
curve(dsn(x, omega = 8, alpha = 0.22), , ylim=c(0,0.8))
curve(dsn(x, omega = 8, alpha = 0.22))
curve(dsn(x, omega = 0.11, alpha = 0.22))
curve(dsn(x, omega = 0.21, alpha = 0.22))
curve(dsn(x, omega = 0.41, alpha = 0.22))
curve(dsn(x, omega = 0.1, alpha = 0.22))
curve(dsn(x, omega = 0.1, alpha = 2))
curve(dsn(x, omega = 0.1, alpha = 10))
curve(dsn(x, omega = 0.1, alpha = 100))
curve(dsn(x, omega = 0.1, alpha = 0.011))
curve(dst(x, omega = 0.1, alpha = 0.011))
curve(dst(x, omega = 1, alpha = 0.011))
curve(dst(x, omega = 1, alpha = 0.11))
curve(dst(x, omega = 1, alpha = 11))
curve(dst(x, omega = 0.9, alpha = 11))
curve(dst(x, omega = 0.11, alpha = 11))
curve(dst(x, omega = 0.11, alpha = 0.11))
rst(x, omega = 0.11, alpha = 0.11))
rst(100, omega = 0.11, alpha = 0.11))
rst(100, omega = 0.11, alpha = 0.11)
rst(100, omega = 0.2, alpha = 0.11, xi = 2)
rst(100, omega = 0.2, alpha = 0.11, xi = 0)
rst(100, omega = 0.2, alpha = 0.11, xi = 0, nu = 2)
sin(30)
sin(30°)
sin(30)
sin(pi/6)
tan(pi/6)
curve(sin(x))
curve(sin(x), xlim = c(-3,3))
curve(sin(x), xlim = c(-30,30))
curve(sin(x), xlim = c(-10,10))
line(h=0)
aline(h=0)
abline(h=0)
curve(tan(x), xlim = c(-10,10))
curve(tan(x), xlim = c(-10,10))
abline(h=0)
curve((x), xlim = c(-10,10))
abline(v=0)
curve((x), xlim = c(0,10))
abline(v=0)
abline(v=10)
curve((x), xlim = c(0,10))
abline(v=10)
atan(1)
atan(pi)
pi/4
tan(pi/3)
tan(2*pi/3)
fd = function(x, alpha){
disf = exp(-x^alpha)
}
fd(2, 1)
fd = function(x, alpha){
disf = exp(-x^alpha)
return(disf)
}
fd(2, 1)
fd(0.2, 1)
curve(fd(x, 1))
curve(fd(x, 1), xlim = c(-10,10))
fd = function(x, alpha){
disf = exp(-x^(-alpha))
return(disf)
}
curve(fd(x, 1), xlim = c(-10,10))
curve(fd(x, 1), xlim = c(0,10))
curve(fd(x, 1), xlim = c(0,4))
install.packages('Rtolls40')
install.packages('Rtolls')
library(installr)
updateR()
updateR()
install.packages('Rtolls')
install.packages(c("fGarch", "forecast", "installr", "quantmod", "rugarch", "timeSeries", "tseries", "vars", "xlsx"))
install.packages('Rtolls')
install.packages('Rtolls40')
install.packages('rtolls40')
curve(x^0.4)
curve(x^0.4, ylim = c(0, 4))
curve(x^0.4, ylim = c(0, 1))
curve(x^0.2, ylim = c(0, 1))
curve(x^0.1, ylim = c(0, 1))
curve(x^0.01, ylim = c(0, 1))
curve(x^0.001, ylim = c(0, 1))
curve(x^0.1, ylim = c(0, 1))
curve(x^1, ylim = c(0, 1))
curve(x^0.1, ylim = c(0, 1))
curve(x^0.2, ylim = c(0, 1))
curve(x^0.4, ylim = c(0, 1), add=T)
install.packages("knitr")
install.packages("readxl")
# Defining my work diretory
setwd("C:/Users/user/Downloads/ML_work/Algorithm")
library(readxl)
teste <- read_excel("teste.xlsx")
teste$foot = NULL
df2 = teste[,'sex']
teste[,'sex']=NULL
teste$sex = df2
teste = data.frame(teste)
#--- function
naive_marcos2 = function(k, df){
df = as.data.frame(df)
#fator =  factor(df[,k])
a = prop.table(table(df[ ,k]))
ta = length(a)
nm = rownames(a)
print('Marcos Naive Bayes Classifier for Discrete Predictors')
cat('A-priori probabilities:\n')
#df2 = df[ , k]
print(a)
#df[ ,k] = NULL
#col_n = colnames(df)
#df[,k] = df2
M = array(0, dim = c(2,2, ta))
m = matrix(0, 2, 2)
for(g in 1:ta){
m1 = as.matrix(tapply(df[,1], df[,k], mean)[g])
v1 = as.matrix(tapply(df[,1], df[,k], sd)[g])
m2 = tapply(df[,2], df[,k], mean)[g]
v2 = tapply(df[,2], df[,k], sd)[g]
m = matrix(c(m1, m2, v1, v2)  )
M[, ,g] = m
cat(nm[g], '\n')
print(M[, ,g])
}
return(M)
}
cc = naive_marcos2('sex', teste)
library(readxl)
teste <- read_excel("teste.xlsx")
setwd("C:/Users/user/Downloads/ML_work/Algorithm")
getwd()
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "D:/Git projects/college_works/ML_1")
library(knitr)
library(kableExtra)
#options(kableExtra.latex.load_packages = FALSE)
library(magrittr)
knitr:: kable(a, booktabs = T) %>%kable_styling(full_width = T) %>%
column_spec(1, width = "8cm")
library(magrittr)
knitr::kable(a)
library(tinytex)
remove.packages("tinytex", lib="~/R/win-library/4.0")
install.packages('tinytex')
knit_with_parameters('C:/Users/user/Downloads/ML_work/testemarkdown/MJ_Ribeiro.Rmd')
library(tinytex)
library(tinytex)
2.8*4
1,2/11.2
1.2/11.2
12*93
4*142
11*89.3
119.2*5
#*********************************************************************************************
#                                     Data
#**********************************************************************************************
setwd("D:/Git projects/college_works/eco_fin")
library(ggplot2)
# data
df = readRDS('df.rds')
df$av = as.numeric(df$av)
data1 = row.names(df)
data1 = as.Date(data1, format = '%Y-%m-%d')
df$data1 = data1
#----- Plot CMAX  using ggplot2
windows()
g1 = ggplot(data=df, aes(y=cmts, x=data1))+geom_line(size=0.4) +
scale_x_date(date_labels="%Y",date_breaks  ="1 year") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1, size=17),
axis.text.y = element_text(size=17),
axis.title.x = element_text(colour = 'black', size=19),
axis.title.y = element_text(colour = 'black', size=19) ) +
ylim(0.4, 1) +
xlab('Anos') +
ylab('CMAX')
g2 = g1 +
annotate(geom='text', x=as.Date('2008-10-10'), y=0.47, label= 'Crise \n de 2008', size=6) +
annotate(geom='text', x=as.Date('2020-03-10'), y=0.58, label = 'Crise do \n COVID-19', size=6) +
#annotate(geom='text', x=as.Date('2000-03-10'), y=0.6, label = 'Bolha da \n internet') +
annotate(geom='text', x=as.Date('2001-9-13'), y=0.58, label = '11 de \n setembro', size=6) +
geom_hline(yintercept =0.69, size=1)
g2
var1 = quantile(cmts, 0.05)
var1 = quantile(df$cmts, 0.05)
ggplot() +
geom_line(data=df, aes(y = -3*av, x = data1), color='red') +
geom_line(data=df, aes(y=crise, x = data1), color='blue') +
scale_x_date(date_labels="%Y",date_breaks  ="1 year") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1, size=17),
axis.text.y = element_text(size=17),
axis.title.x = element_text(colour = 'black', size=19),
axis.title.y = element_text(colour = 'black', size=19) ) +
xlab('Anos') +
ylab('Aversão ao Risco')
ggplot() +
theme_minimal() +
geom_line(data=df, aes(y=(1-cmts), x = data1), color='red') +
geom_line(data=df, aes(y=crise, x = data1), color='blue')
summary(df)
min(df)
min(df$vix)
###### Summary data
library(moments)
###### Summary data
library(moment)
install.packages('moments')
library('moments')
skew(df$ret)
skewness(df$ret)
mom = function(x){
máximo = max(x)
mínimo = min(x)
média = mean(x)
variância = sd(x)
curtose = kurtosis(x)
assimetria = skewness(x)
rmom = data.frame(máximo, mínimo, média, variância, curtose, assimetria)
}
mom(df$ret)
mom = function(x){
máximo = max(x)
mínimo = min(x)
média = mean(x)
variância = sd(x)
curtose = kurtosis(x)
assimetria = skewness(x)
rmom = data.frame(máximo, mínimo, média, variância, curtose, assimetria)
return(rmom)
}
mom(df$ret)
keep =  c('oil', 'gold', 'av', 'embi', 'cdi', 'cb')
df5 = df[,keep]
View(df5)
matrix(, ncol = 6, nrow = 6)
data.frame( matrix(, ncol = 6, nrow = 6) )
sda =data.frame( matrix(, ncol = 6, nrow = 6) )
df5[,4]
for (i in 1:6) {
mom(df5[,i])
}
summary(df5)
df5$embi = as.numeric(embi)
df5$embi = as.numeric(df5$embi)
for (i in 1:6) {
mom(df5[,i])
}
for (i in 1:6) {
print(mom(df5[,i]))
}
mom(df$ret)
mom = function(x){
Máximo = max(x)
Mínimo = min(x)
Média = mean(x)
Variância = sd(x)
Curtose = kurtosis(x)
Assimetria = skewness(x)
rmom = data.frame(Máximo, Mínimo, Média, Variância, Curtose, Assimetria)
return(rmom)
}
mom(df$ret)
mom = function(x){
Máximo = max(x)
Mínimo = min(x)
Média = mean(x)
Variância = sd(x)
Curtose = kurtosis(x)
Assimetria = skewness(x)
rmom = data.frame(Máximo, Mínimo, Média, Variância, Assimetria, Curtose)
return(rmom)
}
mom(df$ret)
mom = function(x){
Máximo = max(x)
Mínimo = min(x)
Média = mean(x)
Variância = sd(x)
Curtose = kurtosis(x)
Assimetria = skewness(x)
rmom = data.frame(Máximo, Mínimo, Média, Variância, Assimetria, Curtose)
}
kk = mom(df$ret)
colnames(kk)
colnames(sda) = colnames(kk)
vna = c('Pétroleo', 'Ouro', 'AV', 'EMBI', 'CDI', 'INPC')
rownames(sda) = vna
sda
for (i in 1:6) {
sda[i,] = mom(df5[,i])
}
sda
round(sda, 4)
print(xtable(sda, type = "latex", digits=4), file = "sda.tex")
library(xtable)
print(xtable(sda, type = "latex", digits=4), file = "sda.tex")
summary(df5$embi)
plot(df5$embi)
plot(df5$embi, type='l')
df4 = df[, c('crise', 'av', 'data1')]
df4$av = df4$av
df4 <- melt(data = df4, id.vars = "data1")
library(reshape2)
df4 <- melt(data = df4, id.vars = "data1")
# plot, using the aesthetics argument 'colour'
g4 = ggplot(data = df4, aes(x = data1, y = value, colour = variable)) +
geom_line(size=1.1) +
scale_x_date(date_labels="%Y",date_breaks  ="1 year") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1, size=17),
axis.text.y = element_text(size=17),
axis.title.x = element_text(colour = 'black', size=19),
axis.title.y = element_text(colour = 'black', size=19),
legend.title=element_blank(),
legend.text = element_text(colour="black", size = 17)) +
xlab('Anos') +
ylab('')
g5 = g4  + scale_colour_discrete(name="Variáveis",
breaks=c("crise", "av"),
labels=c(expression(D[t]), "AV"))
g5
g4 = ggplot(data = df4, aes(x = data1, y = value)) +
geom_line(size=1.1) +
scale_x_date(date_labels="%Y",date_breaks  ="1 year") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1, size=17),
axis.text.y = element_text(size=17),
axis.title.x = element_text(colour = 'black', size=19),
axis.title.y = element_text(colour = 'black', size=19),
legend.title=element_blank(),
legend.text = element_text(colour="black", size = 17)) +
xlab('Anos') +
ylab('')
g5 = g4  + scale_colour_discrete(name="Variáveis",
breaks=c("crise", "av"),
labels=c(expression(D[t]), "AV"))
g5
g5 = g4  + scale_colour_discrete(name="Variáveis",
breaks=c("crise", "av"),
labels=c(expression(D[t]), "AV"))
g5 = g4  + scale_colour_manual(name="Variáveis",
breaks=c("crise", "av"),
labels=c(expression(D[t]), "AV"))
g5
g4 = ggplot(data = df4, aes(x = data1, y = value, colour = variable)) +
geom_line(size=1.1) +
scale_x_date(date_labels="%Y",date_breaks  ="1 year") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1, size=17),
axis.text.y = element_text(size=17),
axis.title.x = element_text(colour = 'black', size=19),
axis.title.y = element_text(colour = 'black', size=19),
legend.title=element_blank(),
legend.text = element_text(colour="black", size = 17)) +
xlab('Anos') +
ylab('')
g5 = g4  + scale_colour_manual(name="Variáveis",
breaks=c("crise", "av"),
labels=c(expression(D[t]), "AV"))
g5
library(RColorBrewer)
myColors <- brewer.pal(5,"Set1")
names(myColors) <- levels(df4$variable)
g5 = g4  + scale_colour_manual(name="Variáveis",
breaks=c("crise", "av"),
labels=c(expression(D[t]), "AV"),
name = "variable",values = myColors)
g4 = ggplot(data = df4, aes(x = data1, y = value, colour = variable)) +
geom_line(size=1.1) +
scale_x_date(date_labels="%Y",date_breaks  ="1 year") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1, size=17),
axis.text.y = element_text(size=17),
axis.title.x = element_text(colour = 'black', size=19),
axis.title.y = element_text(colour = 'black', size=19),
legend.title=element_blank(),
legend.text = element_text(colour="black", size = 17)) +
xlab('Anos') +
ylab('')
g5 = g4  + scale_colour_manual(name="Variáveis",
breaks=c("crise", "av"),
labels=c(expression(D[t]), "AV"))
g5
g5 = g4  + scale_colour_discrete(name="Variáveis",
breaks=c("crise", "av"),
labels=c(expression(D[t]), "AV"))
g5
